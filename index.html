#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#define PRIMO 24
#define SECONDO 78

void caricaCampo();
void stampaCampo();
char campo[PRIMO][SECONDO];
main()
{
	int spostamento,y=PRIMO/2,x=SECONDO/2;
	caricaCampo();
	campo[y][x]='@';
	do{
		system("cls");
		stampaCampo();
		fflush(stdin);
		spostamento=_getch();
		campo[y][x]=' ';
		switch(spostamento)
		{
		case 's':y++;break;
		case 'w':y--;break;
		case 'a':x--;break;
		case 'd':x++;break;
		}
		campo[y][x]='@';
	}while(spostamento!='p');
}

void caricaCampo()
{
	int i,j;
	for(i=0;i<PRIMO;i++)
		for(j=0;j<SECONDO;j++)
			{
				if(i==0 || j==0 || i==PRIMO-1 || j==SECONDO-1)
					campo[i][j]='#';
				else
					campo[i][j]=' ';
			}
}

void stampaCampo()
{
	int i,j;
	for(i=0;i<PRIMO;i++)
		{
			for(j=0;j<SECONDO;j++)
				printf("%c",campo[i][j]);
			printf("\n");
		}
}
